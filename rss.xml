<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
   <title>Thaddeus Jiang</title>
   <link>https://thaddeusjiang.com</link>
   <description>I know I don't know.</description>
   <item>
      <title>2023-10-13 å…³äº Code æˆ‘çš„ä¸€äº›æ”¹å˜</title>
      <link>https://thaddeusjiang.com/2023-10-13-guan-yu-code-wo-de-yi-xie-gai-bian</link>
			<description><![CDATA[
<div class="container">
    <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2 my-4">
      <nav aria-label="main navigation" class="navbar" role="navigation">
        <div class="navbar-brand">
            <a href="./">
                <h1 class="title">Thaddeus Jiang</h1>
                <p class="subtitle">I know I don't know.</p>
            </a>
        </div>
     </nav>
    </div>
  </div>


<div class="container mt-4">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2">
      <div>
          <div class="block content blog">
            <h1 class="subtitle">2023-10-13 å…³äº Code æˆ‘çš„ä¸€äº›æ”¹å˜</h1>
            <hr>

            <p>æœ¬æ¥æƒ³å†™ã€Šä½¿ç”¨ React.js åæˆ‘æœ‰å“ªäº›æ”¹å˜ï¼Ÿã€‹ï¼Œå†™å®Œåå‘ç°æˆ‘çš„æ”¹å˜ä¸ä»…ä»…æ˜¯ React.js ç›¸å…³ï¼Œè¿˜æœ‰ä¸€äº›ä»£ç å‘¨è¾¹çš„å†…å®¹ã€‚</p><h2 class="">1. File Structure: æ”¾å¼ƒæŒ‰ä»£ç ç±»å‹ç»„ç»‡ï¼Œé€‰æ‹©æŒ‰ä½¿ç”¨é¢‘åº¦ç»„ç»‡</h2><p>ä½¿ç”¨ React.js ä¹‹å‰ï¼Œæˆ‘æ˜¯æŒ‰ç…§ä»£ç ç±»å‹è¿›è¡Œç»„ç»‡æ–‡ä»¶ç»“æ„çš„ã€‚HTML æ”¾åœ¨ views æ–‡ä»¶å¤¹ï¼ŒJS æ”¾åœ¨ scripts æ–‡ä»¶å¤¹ï¼ŒCSS æ”¾åœ¨ styles æ–‡ä»¶å¤¹ã€‚æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code>â”œâ”€â”€ scripts
â”‚Â Â  â”œâ”€â”€ index.js
â”‚Â Â  â”œâ”€â”€ login.js
â”‚Â Â  â””â”€â”€ settings.js
â”œâ”€â”€ styles
â”‚Â Â  â”œâ”€â”€ index.css
â”‚Â Â  â”œâ”€â”€ login.css
â”‚Â Â  â””â”€â”€ settings.css
â””â”€â”€ views
    â”œâ”€â”€ index.html
    â”œâ”€â”€ login.html
    â””â”€â”€ settings.html</code></pre><p>ä½¿ç”¨ React.js ä¹‹åï¼Œæˆ‘å¼€å§‹æŒ‰ä»£ç è¢«è°ƒç”¨ã€è¢«ä¿®æ”¹çš„é¢‘åº¦ç»„ç»‡æ–‡ä»¶ç»“æ„ã€‚ç™»å½•é¡µéœ€è¦çš„ HTML JS CSS éƒ½æ”¾åœ¨ login æ–‡ä»¶å¤¹ï¼Œç®¡ç†é¡µéœ€è¦çš„ HTML JS CSS éƒ½æ”¾åœ¨ settings æ–‡ä»¶å¤¹ã€‚æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code>â”œâ”€â”€ index
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ index.jsx
â”œâ”€â”€ login
â”‚   â”œâ”€â”€ login.css
â”‚   â”œâ”€â”€ login.js
â”‚   â””â”€â”€ login.jsx
â””â”€â”€ settings
    â”œâ”€â”€ settings.css
    â”œâ”€â”€ settings.js
    â””â”€â”€ settings.jsx</code></pre><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p><ol><li>æ¯æ¬¡æ–°å¢ features æˆ–è€…ä¿®æ”¹ bugs çš„ diff changesets æ›´é›†ä¸­ï¼›</li><li>åœ¨ç¼–è¾‘å™¨ä¸­è¿›è¡Œæ–‡ä»¶å¤¹è·³è·ƒæ›´å°‘ï¼Œæ‰‹æŒ‡å’Œå¤§è„‘è´Ÿæ‹…æ›´å°ï¼›</li><li>å·²æœ‰åŠŸèƒ½çš„ä¿®æ”¹ã€é‡æ„ã€æ‹†åˆ†ã€åˆ é™¤æ›´ç®€å•ã€‚</li></ol><blockquote class="tc-quote tc-big-quote"><p>ä¼ ç»Ÿçš„ MVC ä¸‰å±‚æ¶æ„é¡¹ç›®ä¹Ÿå¯ä»¥æŒ‰ä»£ç ä½¿ç”¨é¢‘åº¦æ•´ç†æ–‡ä»¶æ¶æ„ã€‚
</p><cite>TJ</cite></blockquote><p>old style</p><pre><code>â”œâ”€â”€ controllers
â”‚   â”œâ”€â”€ index.controller.js
â”‚   â”œâ”€â”€ login.controller.js
â”‚   â””â”€â”€ settings.controller.js
â”œâ”€â”€ services
â”‚   â”œâ”€â”€ index.service.js
â”‚   â”œâ”€â”€ login.service.js
â”‚   â””â”€â”€ settings.service.js
â””â”€â”€ views
    â”œâ”€â”€ index.htm
    â”œâ”€â”€ login.htm
    â””â”€â”€ settings.htm</code></pre><p>new style</p><pre><code>â”œâ”€â”€ index
â”‚   â”œâ”€â”€ index.controller.js
â”‚   â”œâ”€â”€ index.htm
â”‚   â””â”€â”€ index.service.js
â”œâ”€â”€ login
â”‚   â”œâ”€â”€ login.controller.js
â”‚   â”œâ”€â”€ login.htm
â”‚   â””â”€â”€ login.service.js
â””â”€â”€ settings
    â”œâ”€â”€ settings.controller.js
    â”œâ”€â”€ settings.htm
    â””â”€â”€ settings.service.js</code></pre><h2 class="">2. ä»£ç é‡å¤åˆ©ç”¨å•ä½ä» class å˜å°çš„ function</h2><p>ä½¿ç”¨ React.js ä¹‹å‰ï¼Œæˆ‘ä½¿ç”¨ class ç»„ç»‡æ•°æ®å’ŒåŠŸèƒ½ï¼Œproperties å’Œ methods æ”¾åœ¨ class ä¸­ï¼Œå¹¶é€šè¿‡ class ä½¿ç”¨ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class="hljs"><code class="js hljs"><span class="hljs-comment">// account.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Account</span> {
  name = <span class="hljs-string">&quot;&quot;</span>;
  age = <span class="hljs-number">0</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">{ name, age }</span>) {
    <span class="hljs-title class_">Account</span>.<span class="hljs-title function_">validateAccount</span>({ name, age });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }

  <span class="hljs-title function_">getAccount</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">name</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>,
      <span class="hljs-attr">age</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>,
    };
  }

  <span class="hljs-title function_">setAccount</span>(<span class="hljs-params">{ name, age }</span>) {
    <span class="hljs-title class_">Account</span>.<span class="hljs-title function_">validateAccount</span>({ name, age });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">validateAccount</span>(<span class="hljs-params">{ name, age }</span>) {
    <span class="hljs-keyword">if</span> (name.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Name is required&quot;</span>);
    }

    <span class="hljs-keyword">if</span> (age &lt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Age must be greater than 0&quot;</span>);
    }
  }

  <span class="hljs-title function_">introduce</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`Hello, my name is <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> and I am <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span> years old`</span>;
  }
}

<span class="hljs-comment">// hello.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Account</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;account.js&quot;</span>

<span class="hljs-keyword">const</span> tj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Account</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;TJ&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">31</span> });
tj.<span class="hljs-title function_">introduce</span>()</code></pre><p>ä½¿ç”¨ React.js ä¹‹åï¼Œæˆ‘ä½¿ç”¨ module ç»„ç»‡æ•°æ®å’ŒåŠŸèƒ½ï¼Œæ•°æ®å°±æ˜¯æœ€åŸºæœ¬çš„å˜é‡ï¼ŒåŠŸèƒ½å°±æ˜¯æœ€åŸºæœ¬çš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥è¢«å•ç‹¬ä½¿ç”¨ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class="hljs"><code class="js hljs"><span class="hljs-comment">// account.js</span>
<span class="hljs-keyword">import</span> z <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;zod&quot;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">AccountSchema</span> = z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">name</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">min</span>(<span class="hljs-number">1</span>),
    <span class="hljs-attr">age</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>),
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">introduce</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">{ name, age }</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`Hello, my name is <span class="hljs-subst">${name}</span> and I am <span class="hljs-subst">${age}</span> years old`</span>;
};

<span class="hljs-comment">// hello.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AccountSchema</span>, introduce } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;account.js&quot;</span>

<span class="hljs-keyword">const</span> tj = <span class="hljs-title class_">AccountSchema</span>.<span class="hljs-title function_">parse</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;TJ&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">31</span> });
<span class="hljs-title function_">introduce</span>(tj)</code></pre><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p><ol><li>plaintext object æ¯” class instance object æ›´å®¹æ˜“ç†è§£ï¼Œæ²¡æœ‰é­”æ³•</li><li>function æ¯” class method æ›´å®¹æ˜“ç®¡ç†ã€æ‹†åˆ†ã€æµ‹è¯•ï¼Œå¯ä»¥é¿å…å†™å‡ºå·¨å‹ä»£ç å—ã€‚</li><li>ä»£ç è¡Œæ•°å°‘ï¼Œé˜…è¯»ä»£ç æ›´è½»æ¾ã€‚</li></ol><blockquote class="tc-quote tc-big-quote"><p>CSS ä»£ç é‡å¤åˆ©ç”¨å•ä½ä¹Ÿä» BEM class å˜å°åˆ° utility class
</p><cite>TJ</cite></blockquote><h2 class="">3. Coding: æ”¾å¼ƒæ¨¡ç‰ˆæ–‡ä»¶å’Œæ³¨è§£ç­‰éæ ‡å‡†ç‰¹æ€§ï¼Œä½¿ç”¨ç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†ç‰¹æ€§</h2><p>ä½¿ç”¨ React.js ä¹‹å‰ï¼Œæˆ‘ä¼šä½¿ç”¨ä¸€äº›æ¨¡ç‰ˆæŠ€æœ¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class="hljs"><code class="html hljs">// settings.vue
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
<span class="hljs-keyword">const</span> items = [{ <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Foo&#x27;</span> }, { <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Bar&#x27;</span> }]
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>Settings<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span>&gt;</span>
      {{ item.message }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
<span class="hljs-selector-class">.title</span> {
  <span class="hljs-attribute">color</span>: red;
  <span class="hljs-attribute">font-weight</span>: bold;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre><p>ä½¿ç”¨ React.js ä¹‹åï¼š</p><pre class="hljs"><code class="js hljs"><span class="hljs-comment">// settings.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./settings.css&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Settings</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> items = [{ <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;Foo&quot;</span> }, { <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;Bar&quot;</span> }];
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>Settings<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {items.map((item) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{item.message}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre><p>import "./settings.css"; æ˜¯ normal JS code, .map() ä¹Ÿæ˜¯ normal JS codeã€‚</p><h4 class="">ä½¿ç”¨ React.js ä¹‹å‰ï¼Œæˆ‘ä¼šä½¿ç”¨ä¸€äº›åŸºäºæ³¨è§£çš„æ¡†æ¶ã€‚ä»£ç å¦‚ä¸‹ï¼š</h4><pre class="hljs"><code class="ts hljs"><span class="hljs-comment">// OcpiListFilter.ts</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">IsDateString</span>, <span class="hljs-title class_">IsInt</span>, <span class="hljs-title class_">IsOptional</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;class-validator&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Type</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;class-transformer&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OcpiListFilter</span> {
  <span class="hljs-meta">@IsOptional</span>()
  <span class="hljs-meta">@IsDateString</span>()
  <span class="hljs-attr">dateFrom</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@IsOptional</span>()
  <span class="hljs-meta">@IsDateString</span>()
  <span class="hljs-attr">dateTo</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@IsOptional</span>()
  <span class="hljs-meta">@IsInt</span>()
  <span class="hljs-meta">@Type</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Number</span>)
  <span class="hljs-attr">offset</span>: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@IsOptional</span>()
  <span class="hljs-meta">@IsInt</span>()
  <span class="hljs-meta">@Type</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Number</span>)
  <span class="hljs-attr">limit</span>: <span class="hljs-built_in">number</span>;
}
</code></pre><p>ä½¿ç”¨ React.js ä¹‹åï¼š</p><pre class="hljs"><code class="js hljs"><span class="hljs-keyword">import</span> z <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;zod&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">OcpiListFilterSchema</span> = z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">dateFrom</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">date</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">dateTo</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">date</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">offset</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">int</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">limit</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">int</span>().<span class="hljs-title function_">optional</span>(),
});</code></pre><p>æ²¡æœ‰æ³¨è§£ï¼Œæ²¡æœ‰é»‘é­”æ³•ï¼Œåªæ˜¯æœ€æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰ã€‚</p><h2 class="">æ€»ç»“</h2><p>å…¶å®æ˜¯å¾ˆç®€å•çš„å‡ ä»¶å°äº‹ï¼Œå‡ å¥è¯å°±è¯´æ¸…æ¥šäº†ã€‚ä½†æ˜¯è¦å±•ç¤º before and after çš„ä»£ç ï¼Œå ç”¨äº†å¾ˆå¤§ç¯‡å¹…ï¼ŒğŸ˜‚</p>
          </div>          
      </div>
  </div>
</div>     

<div class="copyright">
<strong>
<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">
ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆåˆ›æ„å…±äº«3.0è®¸å¯è¯ï¼‰
</a>
</strong>
</div>

<style>
.copyright {
  padding: 0.5rem 1rem;
  text-align: center;
}

.copyright:hover {
  opacity: 0.9;
}
</style>


]]></description>
      <pubDate>Fri, 13 October 2023 5:1:2 -00:00</pubDate>
			<guid>https://thaddeusjiang.com/2023-10-13-guan-yu-code-wo-de-yi-xie-gai-bian</guid>      
   </item>

   <item>
      <title>2023-10-12 Nest.js Validation Tips</title>
      <link>https://thaddeusjiang.com/2023-10-12-nest-js-validation-tips</link>
			<description><![CDATA[
<div class="container">
    <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2 my-4">
      <nav aria-label="main navigation" class="navbar" role="navigation">
        <div class="navbar-brand">
            <a href="./">
                <h1 class="title">Thaddeus Jiang</h1>
                <p class="subtitle">I know I don't know.</p>
            </a>
        </div>
     </nav>
    </div>
  </div>


<div class="container mt-4">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2">
      <div>
          <div class="block content blog">
            <h1 class="subtitle">2023-10-12 Nest.js Validation Tips</h1>
            <hr>

            <p>imo: å¦‚æœä½ å¯ä»¥é€‰æ‹©ï¼Œæ¨èä½¿ç”¨ zod.dev ä½œä¸º JS/TS validation libraryã€‚</p><p>Nest.js Validation Tips:</p><ol><li>Use <code>@IsInt()</code>, don't use <code>ParseIntPipe</code></li><li>Use <code>@IsDateString()</code>, don't use <code>@IsDate()</code></li><li>Use <code>@IsOptional()</code>, since TypeScript ? doesn't work</li><li>Use <code>@Type(() =&gt; Number)</code> instead of <code>Number(str)</code> , use <code>@Int</code> instead of <code>parseInt(str)</code></li></ol><p>æ¨èç›´æ¥ä½¿ç”¨ class-transformer-validatorï¼Œ</p><pre class="hljs"><code class="sh hljs">npm install class-transformer-validator --save</code></pre><p>å› ä¸ºå•ç‹¬ä½¿ç”¨ class-validator å’Œ class-transformer è®©äººæ²®ä¸§ã€‚</p><h2 class="">imo: Nest.js è¿™ç§åŸºäºæ³¨è§£çš„æ¡†æ¶å’Œ TypeScript ä¸€èµ·ä½¿ç”¨è®©äººååˆ†å›°æƒ‘ã€‚</h2><p>@IsOptional() å’Œ ? è®©äººå›°æƒ‘ã€‚</p><blockquote><div>å¯é€‰å±æ€§ç”¨ library è¿˜æ˜¯ TypeScript å‘¢ï¼Ÿ</div></blockquote><pre class="hljs"><code class="ts hljs">  <span class="hljs-meta">@IsInt</span>()
  <span class="hljs-meta">@IsOptional</span>()
  <span class="hljs-attr">offset</span>: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@IsInt</span>()
  limit?: <span class="hljs-built_in">number</span>;</code></pre><p>@Type(() =&gt; Date) å’Œ :string ä¹Ÿè®©äººå›°æƒ‘ã€‚</p><blockquote><div>ç±»å‹è½¬æ¢ç”¨æ³¨è§£è¿˜æ˜¯ä»£ç å‘¢ï¼Ÿ</div></blockquote><pre class="hljs"><code class="ts hljs">  <span class="hljs-meta">@IsDate</span>()
  <span class="hljs-meta">@Type</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Date</span>) 
  <span class="hljs-attr">dateFrom</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@IsDateString</span>()
  <span class="hljs-attr">dateTo</span>: <span class="hljs-title class_">Date</span>;</code></pre><p>refs</p><ul><li><a class="tc-tiddlylink-external" href="https://docs.nestjs.com/techniques/validation#explicit-conversion" rel="noopener noreferrer" target="_blank">NestJS Validation</a></li><li><a class="tc-tiddlylink-external" href="https://github.com/MichalLytek/class-transformer-validator" rel="noopener noreferrer" target="_blank">class-transformer-validator</a></li><li><a class="tc-tiddlylink-external" href="https://github.com/typestack/class-validator" rel="noopener noreferrer" target="_blank">class-validator</a></li><li><a class="tc-tiddlylink-external" href="https://github.com/typestack/class-transformer" rel="noopener noreferrer" target="_blank">class-transformer</a></li></ul>
          </div>          
      </div>
  </div>
</div>     

<div class="copyright">
<strong>
<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">
ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆåˆ›æ„å…±äº«3.0è®¸å¯è¯ï¼‰
</a>
</strong>
</div>

<style>
.copyright {
  padding: 0.5rem 1rem;
  text-align: center;
}

.copyright:hover {
  opacity: 0.9;
}
</style>


]]></description>
      <pubDate>Thu, 12 October 2023 7:6:37 -00:00</pubDate>
			<guid>https://thaddeusjiang.com/2023-10-12-nest-js-validation-tips</guid>      
   </item>

   <item>
      <title>2023-10-04</title>
      <link>https://thaddeusjiang.com/2023-10-04</link>
			<description><![CDATA[
<div class="container">
    <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2 my-4">
      <nav aria-label="main navigation" class="navbar" role="navigation">
        <div class="navbar-brand">
            <a href="./">
                <h1 class="title">Thaddeus Jiang</h1>
                <p class="subtitle">I know I don't know.</p>
            </a>
        </div>
     </nav>
    </div>
  </div>


<div class="container mt-4">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2">
      <div>
          <div class="block content blog">
            <h1 class="subtitle">2023-10-04</h1>
            <hr>

            <p>æ˜¨å¤©æ™šä¸Šåœ¨ä¸œäº¬çœ‹äº†æå®—ç››çš„æ¼”å”±ä¼šï¼Œä»Šå¤©å’Œè®¸ä¹…æœªè§çš„æœ‹å‹çº¦äº†åˆé¤ï¼Œç°åœ¨åœ¨ä¸€å®¶éšå¸‚çš„å’–å•¡åº—åç€ç­‰è€å©†ä¸‹ç­ã€‚æˆ‘æœ‰ç‚¹å–œæ¬¢è¿™ç§ç”Ÿæ´»çŠ¶æ€ï¼Œè‡ªç”±èŒä¸šè€…çœŸå¥½ï¼Œå¥½è‡ªç”±å•Šï¼Œæœ‰ç‚¹çˆ½ã€‚å…¶å®åªè¦ç§¯æåˆ©ç”¨å¥½è‡ªå·±çš„é«˜æ•ˆæ—¶é—´ï¼Œä¸€å‘¨çš„å·¥ä½œæˆæœå¹¶ä¸ä¼šæ¯”åšå…¨èŒå‘˜å·¥å°‘ï¼Œå¹¶ä¸”ä¸ç”¨æ¯å¤©æŒ‰ç…§è§„å®šæ—¶é—´ä¸Šç­ï¼Œä¸ç”¨æ—¶ä¸æ—¶çš„å°±çœ‹ä¸€ä¸‹ slack ä¸Šæœ‰æ²¡æœ‰æ¶ˆæ¯ï¼Œä¹Ÿä¸ç”¨å»é’¢ç­‹æ··å‡åœŸçš„å»ºç­‘ç‰©é‡Œåç€ã€‚</p><p>æ˜¨æ™šæå®—ç››çš„æ¼”å”±ä¼šå¾ˆæ£’ï¼Œè€æçš„æ­Œå¾ˆå¥½å¬ï¼Œæˆ‘å¯ä»¥å¬åˆ°æˆ‘è‡ªå·±å…­ä¸ƒåå²ã€‚çœ‹åˆ°æœ‰å‡ ä¸ªç½‘å‹å†™äº†é•¿æ–‡æŠ’å‘æ„Ÿæƒ³ï¼Œæˆ‘åœ¨æƒ³æˆ‘æ˜¯å¦ä¹Ÿå†™ä¸€ä¸‹å‘¢ï¼Ÿæ¼”å”±ä¼šå¾ˆæ£’ï¼Œå¦‚æœè¦ç»†å“çš„ç¡®æœ‰å¾ˆå¤šå¯ä»¥æ„ŸåŠ¨ï¼Œå¯ä»¥å…±é¸£ï¼Œå¯ä»¥æ¿€åŠ±å’Œè­¦é†’çš„å†…å®¹ï¼Œä½†æ˜¯æˆ‘æœ‰å¿…è¦å†™ä¸‹æ¥ï¼Œå¹¶å‘ç»™åˆ«äººçœ‹å—ï¼Ÿæˆ‘ä¸ç¡®å®šã€‚</p><p>è‡³å°‘ï¼Œæ­¤æ—¶æ­¤åˆ»æˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦ã€‚</p><p>å…¶å®æˆ‘åªæ˜¯æƒ³æ‰¾ä¸€ä¸ªåœ°æ–¹åç€ç­‰è€å©†ä¸‹ç­ï¼Œè¿™å®¶å’–å•¡åº—å°±åœ¨è€å©†å…¬å¸æ—è¾¹ï¼Œæˆ‘åœå¥½è½¦ï¼Œå‡†å¤‡å»æ˜Ÿå·´å…‹çš„è·¯ä¸Šç¢°å·§çœ‹åˆ°äº†å®ƒã€‚å®ƒåœ¨ä¸€æ¡æ™®æ™®é€šé€šçš„å°è·¯æ—ï¼Œæœ‰ä¸€ä¸ªé€šå‘è·¯é¢ä¸‹çš„æ¥¼æ¢¯ï¼Œæ¥¼æ¢¯å£æŒ‚ç€ä¸€ä¸ªã€Šå¯å¦é“ã€‹çš„æ‹›ç‰Œï¼Œé¡ºç€æ¥¼æ¢¯å¾€ä¸‹çœ‹ï¼Œé—¨æ˜¯å¼€ç€çš„ï¼Œé—¨å£æŒ‚ç€â€œå•†ã„ä¸­â€çš„ç‰Œå­ã€‚</p><p>äºæ˜¯æˆ‘å†³å®šä¸å»æ˜Ÿå·´å…‹äº†ã€‚</p><p>æˆ‘å¾ˆå–œæ¬¢è¿™å®¶åº—ï¼Œæˆ‘æƒ³è¯•ç€ç”¨æ–‡å­—æŠŠè¿™å®¶åº—æè¿°ç»™å¤§å®¶ã€‚ä¸€è¿›é—¨å°±çœ‹è§åº—é‡Œæ˜¯ä¸€ä¸ªé•¿é•¿çš„å§å°ï¼Œä»é—¨å£ä¸€ç›´é€šå‘æ·±å¤„ï¼Œåº—é‡Œæ˜¯ç»†ç»†é•¿é•¿çš„å¸ƒå±€ï¼Œæ²¡æœ‰ç‹¬ç«‹çš„æ¡Œå­ã€‚æ•´ä¸ªåº—ç»†ç»†é•¿é•¿çš„ç©ºé—´å°±åƒä¸€ä¸ªèº«æè‹—æ¡çš„ç¾å¥³ï¼Œå¾ˆæ¼‚äº®ï¼Œè®©äººæœ‰ä¸€ç§æ„‰æ‚¦çš„æ„Ÿè§‰ï¼Œè®©äººå¿ä¸ä½å¤šç„å‡ çœ¼ã€‚</p><p>ä½†æ˜¯æˆ‘ä¸èƒ½å¤šçœ‹ã€‚</p><p>å› ä¸ºåº—é‡Œè¿˜æœ‰å…¶ä»–å®¢äººï¼Œå…¶å®æˆ‘è¿›æ¥çš„æ—¶å€™åº—é‡Œå·²ç»æœ‰ä¸€å¯¹ä¸­å¹´ç”·å¥³ååœ¨åº—é‡Œäº†ã€‚ç”·äººç©¿ç€è¡¬è¡«ï¼Œåçš„æŒºç›´ï¼Œå¥³äººåœ¨ç”·äººçš„å¦ä¸€ä¾§ï¼Œæˆ‘åªæ˜¯æ‰«åˆ°ä¸€çœ¼ï¼Œä¼¼ä¹å¥¹æ˜¯æ•…æ„èº²é¿å…¶ä»–å®¢äººçš„æ³¨æ„åŠ›ã€‚è¿™å¯¹ç”·å¥³åƒæäº†æ—¥æœ¬å°è¯´å’Œç”µè§†å‰§ä¸­å¸¸è§çš„é‚£ç§åœ¨åˆåå·æƒ…çš„ç”·å¥³ã€‚è¿™å®¶åº—ä¹Ÿå¤ªé€‚åˆå·æƒ…äº†ã€‚å“ˆå“ˆå“ˆ</p><p>ä¸å¯¹ï¼Œæ˜¯é€‚åˆçº¦ä¼šã€‚</p><p>æˆ‘åç€è¿›é—¨ç¬¬äº”ä¸ªåº§ä½ï¼Œå¤§çº¦æ˜¯æ•´ä¸ªåº—è¿›é—¨ä¸‰åˆ†ä¹‹ä¸€çš„ä½ç½®ã€‚æˆ‘çš„åº§ä½å‰æ˜¯ä¸€äº›å°æ‘†ä»¶ï¼Œä¸€ä¸ªç”¨æ¥ç§°å’–å•¡è±†å¤©å¹³ç§¤ï¼›ä¸€ä¸ªç£¨å’–å•¡ç²‰çš„æœºå™¨ï¼›ä¸€ä¸ªå†™ç€ã€ç‰¹é¸ãŠã™ã™ã‚çˆç²ã€‘çš„ç‰Œå­ã€‚è¿˜æœ‰ä¸€ä¸ªä¸‰å±‚çš„ç»ç’ƒç›’å­ï¼Œé‡Œé¢å…¨æ˜¯çŒ«å’ªçš„æ‘†ä»¶ï¼Œå¯è§åº—ä¸»ä¹Ÿæ˜¯ä¸€ä¸ªå–œæ¬¢çŒ«çš„äººã€‚</p><p>åº—ä¸»æ˜¯ä¸€ä¸ªä¸ƒå…«åå²çš„å¥¶å¥¶ã€‚</p><p>å¥¶å¥¶çš„èº«é«˜å’Œæˆ‘å¦ˆå¦ˆå·®ä¸å¤šï¼Œåº”è¯¥ä¸è¶…è¿‡ 145cmï¼Œæˆ‘è¿˜çœ‹åˆ°ä¸€ä½çˆ·çˆ·ä¸€ç›´åœ¨å¾ˆé‡Œé¢çš„ä¸€ä¸ªå¸˜å­åé¢ï¼Œæˆ‘ä¹Ÿåªæ˜¯çœ‹åˆ°ä¸€çœ¼ï¼Œæ²¡çœ‹æ¸…ã€‚</p><p>æˆ‘ç‚¹äº†ä¸€æ¯ã€ç‰¹é¸ãŠã™ã™ã‚çˆç²ã€‘ï¼Œåº—ä¸»è®©æˆ‘é€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„æ¯å­ã€‚å¯¹äº†ï¼Œæˆ‘é¢å‰ï¼Œå§å°çš„å¢™ä¸Šæ˜¯æ»¡æ»¡çš„å„å¼å„æ ·çš„å’–å•¡æ¯ï¼Œå®¢äººå¯ä»¥ä»»æ„æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„å’–å•¡æ¯ã€‚æˆ‘é€‰äº†ä¸€ä¸ªæ¬§å¼å°èŠ±çš„æ£çº¢è‰²çš„æ¯å­ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„ç†ç”±ï¼Œå°±æ˜¯å½“ä¸‹çš„æ„Ÿè§‰è€Œå·²ã€‚</p><p>æˆ‘ä¸€è¾¹å–å’–å•¡ï¼Œä¸€è¾¹æ…¢æ…¢åœ°å“å‘³è¿™å®¶åº—çš„é£æ ¼å’Œé™ˆåˆ—ã€‚</p><p>æˆ‘å¤§çº¦åäº† 2 å°æ—¶ï¼Œåº—é‡Œçš„å®¢äººå·²ç»æ¢äº† 3 æ³¢äº†ã€‚å“ˆå“ˆå“ˆï¼Œæœç„¶ä¸œäº¬ä¹Ÿæ˜¯ä¸€ä¸ªå¿«èŠ‚å¥çš„åŸå¸‚ï¼Œå¤§å®¶è¿å–å’–å•¡éƒ½æ¥ä¹ŸåŒ†åŒ†å»ä¹ŸåŒ†åŒ†ã€‚æœ€åˆçš„ä¸­å¹´ç”·å¥³èµ°äº†ï¼Œæ²¡ä¸€ä¼šå„¿åº—é‡Œè¿›æ¥äº†ä¸€ä¸ªæ¯”æˆ‘å¹´é¾„ç¨å¤§ä¸€äº›çš„å¥³æ€§ï¼Œä¸€ä¸ªäººï¼Œååœ¨è¿›é—¨ç¬¬äºŒä¸ªä½ç½®ï¼Œå’Œæˆ‘ä¹‹é—´éš”äº†ä¸¤æŠŠæ¤…å­ã€‚å¥³äººæ˜¯é‚£ç§ååˆ†å¹²ç»ƒçš„æ„Ÿè§‰ï¼Œå£°éŸ³å“äº®ï¼Œå¥¹ä¸åº—ä¸»çš„äº¤è°ˆæ•´ä¸ªåº—é‡Œéƒ½å¯ä»¥å¬å¾—æ¸…æ¸…æ¥šæ¥šã€‚å¥³äººé—®äº†ä¸€ä¸‹åº—é‡Œæ˜¯å¦å¯ä»¥å¸çƒŸï¼Œå¾—åˆ°è‚¯å®šçš„å›å¤ä»¥åï¼Œå¥¹ç‚¹äº†ä¸€æ ¹çƒŸã€‚æˆ‘æœ¬èƒ½åœ°ç”¨å·¦æ‰‹æŒ¡ä½äº†é¼»å­ï¼Œç»§ç»­å†™ä¸œè¥¿ã€‚æˆ‘åªèƒ½éšéšçº¦çº¦åœ°é—®é“ä¸€ç‚¹ç‚¹çƒŸå‘³ï¼Œæˆ‘å‘ç°å¥¹æ˜¯èƒŒå¯¹ç€æˆ‘ä¸€è¾¹å¸çƒŸä¸€è¾¹å¤§å£çš„å–ç€å’–å•¡ã€‚å¥³äººåäº†ä¸åˆ°ååˆ†é’Ÿå°±èµ°äº†ã€‚</p><p>æ²¡ä¸€ä¼šå„¿åˆè¿›æ¥äº†ä¸€å¯¹ç”·å¥³ã€‚</p><p>è¿™å¯¹ç”·å¥³åº”è¯¥ä¹Ÿæ˜¯å¹´é¾„æ¯”æˆ‘ç¨å¤§ä¸€äº›ã€‚æˆ‘ä»Šå¹´ 31å²ï¼Œå¥½åƒç¨å¾®æˆç†Ÿä¸€ç‚¹çš„éƒ½æ˜¯æ¯”æˆ‘å¤§ä¸€ç‚¹ï¼Œå“ˆå“ˆå“ˆã€‚å¥³äººç©¿ç€ä¸€èº«å’Œæœï¼Œå¾ˆé«˜çº§ï¼Œå¾ˆä¼˜é›…çš„é‚£ç§ï¼Œç”·äººè¿˜æ˜¯å¾ˆå¸¸è§çš„ä¸Šç­æ—æ‰“æ‰®ã€‚ä¸çŸ¥ä¸ºä½•ï¼Œæˆ‘è„‘å­é‡Œå…¨æ˜¯æ—¥å‰§ã€Šæ˜¼é¢œã€‹çš„ç”»é¢ï¼Œå“ˆå“ˆå“ˆã€‚æœ€ååœ¨æˆ‘èµ°ä¹‹å‰ï¼Œåº—é‡Œè¿›æ¥ä¸€ä½ç˜¦ç˜¦çš„å°å“¥å“¥ï¼Œä»–ä¸€è¿›æ¥æ²¡æœ‰æ‰“æ‹›å‘¼å°±å¾„ç›´èµ°å‘æœ€é‡Œé¢çš„åº§ä½ï¼ŒæŠŠé›¨ä¼æµåœ¨å¢™è¾¹ï¼Œåä¸‹å°±ç‚¹ä¸Šäº†ä¸€æ ¹çƒŸã€‚ä¸€çœ‹å°±æ˜¯è¿™å®¶åº—çš„å¸¸å®¢ã€‚</p><p>å®¢äººä»¬åƒæ˜¯å•†é‡å¥½çš„ä¸€æ ·ï¼Œä¸€ç»„ä¸€ç»„çš„è¿›åº—ï¼Œé™¤äº†æˆ‘ä»¥å¤–ï¼Œæ¯æ¬¡åªæœ‰ä¸€ç»„å®¢äººåœ¨åº—é‡Œã€‚</p><p>è¿™å°±å†™å®Œäº†ï¼Œæˆ‘å‘ç°æˆ‘ä¸å¤ªä¼šå†™ç»“å°¾ã€‚</p><p>è¿™å°±æ˜¯æˆ‘ä¸å·¥ä½œçš„ä¸€å¤©ï¼Œè§è§æœ‹å‹ï¼Œä¸€ä¸ªäººæ‰¾ä¸€å®¶å’–å•¡åº—ååï¼Œç„¶åæ¥è€å©†å›å®¶ã€‚
</p>
          </div>          
      </div>
  </div>
</div>     

<div class="copyright">
<strong>
<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">
ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆåˆ›æ„å…±äº«3.0è®¸å¯è¯ï¼‰
</a>
</strong>
</div>

<style>
.copyright {
  padding: 0.5rem 1rem;
  text-align: center;
}

.copyright:hover {
  opacity: 0.9;
}
</style>


]]></description>
      <pubDate>Wed, 4 October 2023 11:56:33 -00:00</pubDate>
			<guid>https://thaddeusjiang.com/2023-10-04</guid>      
   </item>

</channel>
</rss>
