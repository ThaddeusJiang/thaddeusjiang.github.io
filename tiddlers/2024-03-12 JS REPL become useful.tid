created: 20240312013619567
modified: 20240312020355544
published: 20240312020355543
tags: blog $:/plugins/adithyab/tiddlyjam/live
title: 2024-03-12 JS REPL become useful
type: text/vnd.tiddlywiki

ä¸€ç›´ä»¥æ¥æˆ‘ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ä¸ª JS å·¥å…·ï¼Œå¯ä»¥è®©æˆ‘ä¸é€€å‡º console (REPL) å°±ç›´æŽ¥å®‰è£…æ–°çš„ä¾èµ–ã€‚Thanks God. æˆ‘ç»ˆäºŽæ‰¾åˆ°äº†ã€‚ðŸ¥³

`bun repl` is so cool. 

Demo: 

```sh
bun repl

> import dayjs from "dayjs"
> dayjs().toISOString()
'2024-03-12T01:41:09.763Z'
```

!! Why I want to install dependencies in console?

å¾ˆå¤šæ—¶å€™æˆ‘åªæ˜¯æƒ³è¿è¡ŒæŸä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯å†™ä»£ç ã€‚åœ¨ bun repl ä¹‹å‰æˆ‘ä¸€ç›´ä½¿ç”¨ RunKit.com åšè¿™ä»¶äº‹ã€‚ä½†æ˜¯ RunKit æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸è¶³ï¼Œå°±æ˜¯ä¸æ”¯æŒ ESM ï¼Œå› ä¸ºæˆ‘æ—¥å¸¸å·¥ä½œå·²ç»å…¨é¢åˆ‡æ¢åˆ° ESMï¼Œæ¯æ¬¡åœ¨ RunKit ä¸­å†™ require("somelib") è®©æˆ‘è§‰å¾—ååˆ†å‰²è£‚ã€‚

æˆ–è®¸å¯¹äºŽå¾ˆå¤šäººæ¥è¯´ï¼Œnpm i -y ï¼Œç„¶åŽ npm install dayjs ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ä½†æ˜¯æˆ‘ä¸ªäººä¸å–œæ¬¢åœ¨ local ç•™ä¸‹å¤ªå¤šä¸´æ—¶ä»£ç ï¼Œå¹¶ä¸” node_modules çœŸçš„å¤ªå å­˜å‚¨ç©ºé—´äº†ã€‚æˆ‘è¿˜æ˜¯å–œæ¬¢åœ¨ console ä¸­â€œç”¨å®Œå³å¼ƒâ€ã€‚

!! Where I learn this Tips?

1. Elixir iex shell æä¾›è¿™ä¸ªåŠŸèƒ½

```
iex

iex> Mix.install(  [{:timex, "~> 3.0"}])
iex> Timex.now
~U[2024-03-12 01:57:40.350390Z]
```

ä½œä¸ºä¸€ä¸ªè€æ´¾ç¨‹åºå‘˜ï¼Œæˆ‘çœŸçš„æ— æ³•ä½¿ç”¨æ²¡æœ‰ REPL çš„ç¼–ç¨‹è¯­è¨€ã€‚REPL ä¸å¥½ç”¨çš„è¯å’Œæ²¡æœ‰æ²¡æœ‰åŒºåˆ«ï¼Œnode ç›´æŽ¥å¼€å¯çš„é‚£ä¸ªè¿è¡ŒçŽ¯å¢ƒæ ¹æœ¬å°±ä¸ç®—ä¸€ä¸ªåˆæ ¼çš„ REPLã€‚

```sh
node        
Welcome to Node.js v18.14.0.
Type ".help" for more information.
> npm install dayjs
npm should be run outside of the Node.js REPL, in your normal shell.
(Press Ctrl+D to exit.)
> 
> import dayjs from "dayjs"
import dayjs from "dayjs"
^^^^^^

Uncaught:
SyntaxError: Cannot use import statement inside the Node.js REPL, alternatively use dynamic import
```

refs:

* https://github.com/jhmaster2000/bun-repl
