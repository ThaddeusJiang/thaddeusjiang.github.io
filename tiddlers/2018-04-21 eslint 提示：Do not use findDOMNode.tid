created: 20210112125513258
creator: TJ
modified: 20210415133035989
modifier: TJ
tags: blog æ‰‹è‰ºäººæ‰‹è®° $:/plugins/adithyab/tiddlyjam/live
title: 2018-04-21 eslint æç¤ºï¼šDo not use findDOMNode
type: text/vnd.tiddlywiki

è®°å½•ä¸€æ¡ eslint æç¤ºï¼š

```
[eslint] Do not use findDOMNode (react/no-find-dom-node)
```

èƒŒæ™¯

ä½¿ç”¨react-dndåšæ‹–æ‹½åŠŸèƒ½æ—¶ï¼Œéœ€è¦åˆ¤æ–­çœŸå®DOMçš„å¤§å°å’Œä½ç½®ã€‚

å®˜æ–¹ç¤ºä¾‹ï¼š https://github.com/react-dnd/react-dnd/blob/164a8048296101e3bcf543df3406ee6dabfdf059/packages/documentation/examples/04%20Sortable/Simple/Card.js#L35

ä½†æ˜¯æˆ‘ä»¬é¡¹ç›®ä½¿ç”¨ eslint æ£€æŸ¥ js ä»£ç å“è´¨ã€‚æ‰€ä»¥å‡ºç° ğŸ‘† æç¤ºã€‚

è§£å†³æ–¹æ³•

```jsx
// Step 1. render()
;<div
  ref={node => {
    this.node = node
  }}
>
  ...
</div>

// Step 2. function
component.decoratedComponentInstance.node.getBoundingClientRect()
```

å‚è€ƒï¼š https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-find-dom-node.md
